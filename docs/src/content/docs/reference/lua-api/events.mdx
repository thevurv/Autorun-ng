---
title: Events
description: Events in Autorun's Lua API
tableOfContents: false
---

import { Aside, Card, Code, Tabs, TabItem } from '@astrojs/starlight/components';
import RealmBadge from '../../../../components/RealmBadge.astro';
import apiData from '../../../../../../packages/autorun-env/api.json';
import { formatParameters, formatReturns } from '../../../../utils/api-formatter';

{apiData.events && apiData.events.map(event => (
  <div key={event.name}>
    <h2><RealmBadge realm={event.realm} /> <code>{event.name}</code></h2>

    <p>{event.description}</p>

    {event.parameters && event.parameters.length > 0 && (
      <>
        <h3>Parameters</h3>
        <ul>
          {event.parameters.map((param, i) => (
            <li key={i}>
              <code>{param.name}: {param.type}</code>
              {param.description && ` - ${param.description}`}
            </li>
          ))}
        </ul>
      </>
    )}

    {event.returns && event.returns.length > 0 && (
      <>
        <h3>Returns</h3>
        <ul>
          {event.returns.map((ret, i) => (
            <li key={i}>
              <code>{ret.type}</code>
              {ret.description && ` - ${ret.description}`}
            </li>
          ))}
        </ul>
      </>
    )}

    <h3>Example</h3>
    <Code
      code={`Autorun.on("${event.name}", function(${event.parameters ? event.parameters.map(p => p.name).join(', ') : ''})\n    -- Your event handler code here\nend)\n\n`}
      lang="lua"
    />

    <hr style={{ margin: '2rem 0' }} />
  </div>
))}

## Custom Events

You can create and trigger your own custom events using `Autorun.trigger()`.

<Code
  code={`-- Trigger a custom event\nAutorun.trigger("myCustomEvent", arg1, arg2, arg3)\n\n-- Listen to the custom event\nAutorun.on("myCustomEvent", function(arg1, arg2, arg3)\n    Autorun.print("Custom event triggered!", arg1, arg2, arg3)\nend)`}
  lang="lua"
/>

<Aside type="tip">
Custom events are useful for communication between different parts of your plugin or between multiple plugins.
</Aside>

## Remote Events

Remote events can be created that will be sent to the opposite realm (client \<\-\> menu).

Listen to them with `Autorun.onRemote(eventName, callback)` and trigger them with `Autorun.triggerRemote(eventName, value)`.

Note that, unlike traditional events, since this runs across states, you cannot send state-sensitive values, ie functions, userdata, etc.

The current supported types are:
- nil
- boolean
- number
- string

In the future basic tables will be supported.

### Example

<Tabs>
<TabItem label="client/init.lua">
```lua
-- Send a message to the menu when client initializes
Autorun.triggerRemote("clientGreeting", "hi")

-- Optional: Listen for responses from menu
Autorun.onRemote("menuResponse", function(message)
    print("Menu says: " .. message)
end)
```
</TabItem>

<TabItem label="menu/init.lua">
```lua
-- Listen for messages from the client
Autorun.onRemote("clientGreeting", function(message)
    print("Client says: " .. message)

    -- Optional: Send a response back
    Autorun.triggerRemote("menuResponse", "hello from menu!")
end)
```
</TabItem>
</Tabs>
