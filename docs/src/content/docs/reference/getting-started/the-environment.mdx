---
title: The Environment
description: A reference to Autorun's environment in which it runs code.
---

import { Aside, Card, Code, Tabs, TabItem } from '@astrojs/starlight/components';

Autorun-ng scripts run in special environments. That's where `Autorun` comes from.

It still runs inside of the same clientside global environment that Garry's Mod addons use. But the key difference is that Autorun adds a separate [fenv](https://www.lua.org/pil/14.3.html) in between.

The only way to access globals from the global environment is through the value `_G`. You must explicitly index, as like `_G.print`, instead of accessing it as `print`.

## Why?

This is due to security reasons. Garry's Mod addons have full access to the global environment, they could always replace a function with another which will detect when you call it.
You should limit the amount of accesses you make to the global environment _G as much as possible.

Autorun-ng by default provides all of the built-in lua standard libraries like `string`, `table`, etc, which are saved upon init right before any code loads into the Autorun environment.
This means that if an addon replaces, say, `string.format`, that won't affect code running in Autorun-ng which is using the saved string.format.

## Example

```lua
Autorun.print("I'm running on server " .. GetHostName())
```

<Aside type="danger">
    This will error at runtime!
    `GetHostName` is a Garry's Mod global, and not stored in the Autorun environment!
</Aside>

To fix this, you must access it through `_G`:

```lua
Autorun.print("I'm running on server " .. _G.GetHostName())
```

<Aside type="caution">
    Be careful when accessing _G inside of hooks!
    If an addon replaced _G.GetHostName with a malicious function, it will run that instead and detect you!

    This only applies if you're running inside of, for example, the loadbuffer event.
</Aside>

See the Lua API reference for more information on what is available in the Autorun environment.
